{"version":3,"sources":["views/HomePage.js","serviceApi/serviceApi.js","components/ScrollToLoadBtn.jsx","components/MovieItem/MovieItem.js","components/MovieItem/MovieItem.module.css","components/Button/Button.js","components/Button/Button.module.css","style/list.module.css","style/LoaderButton.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["HomePage","useState","movies","setMovies","loading","setLoading","page","setPage","status","setStatus","location","useLocation","useEffect","fetchMoviesByTrending","then","data","prev","ScrollToLoadBtn","catch","err","console","log","className","s","title","list_home_page","map","id","poster_path","original_title","to","pathname","state","from","label","onClickLoadMore","style","loader","API_KEY","axios","defaults","baseURL","fetchMovies","a","url","config","get","response","results","error","fetchMoviesByKeyWord","keyWord","fetchMovieById","movie_id","fetch","ok","json","Promise","reject","Error","fetchMovieCredits","fetchMovieReviews","window","scrollTo","top","document","documentElement","scrollHeight","behavior","MovieItem","item","item_image","src","alt","item_title","module","exports","Button","children","type","onClick","button","btn_children","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/Home page.f585bb9d.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Loader from \"../components/Loader/Loader\";\r\nimport { fetchMoviesByTrending } from \"../serviceApi/serviceApi\";\r\nimport { MovieItem } from \"../components/MovieItem/MovieItem\";\r\nimport { Button } from \"../components/Button/Button\";\r\nimport s from \"../style/list.module.css\";\r\nimport style from \"../style/LoaderButton.module.css\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport ScrollToLoadBtn from \"../components/ScrollToLoadBtn\";\r\n\r\nexport default function HomePage() {\r\n  const [movies, setMovies] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [status, setStatus] = useState(\"init\");\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setStatus(\"pending\");\r\n    fetchMoviesByTrending(page)\r\n      .then((data) => {\r\n        if (page === 1) {\r\n          setMovies(data);\r\n        } else {\r\n          setMovies((prev) => [...prev, ...data]);\r\n        }\r\n        setStatus(\"success\");\r\n        setLoading(false);\r\n        ScrollToLoadBtn();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setStatus(\"error\");\r\n      });\r\n  }, [page]);\r\n\r\n  const onClickLoadMore = () => {\r\n    setLoading(true);\r\n    setPage((page) => page + 1);\r\n  };\r\n  // console.log(movies);\r\n\r\n  if (status === \"init\") {\r\n    return <h1>Hello! Are you want to find something...</h1>;\r\n  }\r\n  if (status === \"pending\") {\r\n    return <Loader />;\r\n  }\r\n  if (status === \"success\") {\r\n    return (\r\n      <>\r\n        <h1 className={s.title}>Trending today</h1>\r\n\r\n        <ul className={s.list_home_page}>\r\n          {movies.map(({ id, poster_path, original_title }) => (\r\n            <Link\r\n              to={{\r\n                pathname: `movie/${id}`,\r\n                state: {\r\n                  from: location,\r\n                  label: \"back to home\",\r\n                },\r\n              }}\r\n              // onClick={() => onClick(id)}\r\n              key={id}\r\n            >\r\n              <MovieItem\r\n                key={id}\r\n                poster_path={poster_path}\r\n                original_title={original_title}\r\n              />\r\n            </Link>\r\n          ))}\r\n        </ul>\r\n        <Button onClickLoadMore={onClickLoadMore}>\r\n          {loading ? (\r\n            <>\r\n              <span className={style.loader}></span>\r\n              <span>Fetch data</span>\r\n            </>\r\n          ) : (\r\n            <span>Loading more</span>\r\n          )}\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n  if (status === \"error\") {\r\n    return <h1>Sorry!!!</h1>;\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"9c85780e51be24ce66dcc89d24578143\";\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\nconst baseURL = \"https://api.themoviedb.org/3\";\r\n// console.log(axios);\r\nexport async function fetchMovies(url = \"\", config = \"\") {\r\n  const response = await axios\r\n    .get(url, config)\r\n    .then((response) => response?.data?.results)\r\n    .catch((error) => console.log(error));\r\n  return response;\r\n  // if (response) {\r\n  //   const data = response.data.results;\r\n  //   console.log(data);\r\n  //   return data;\r\n  // }\r\n}\r\n\r\n//список самых популярных фильмов на сегодня для создания коллекции на главной странице\r\nexport function fetchMoviesByTrending(page) {\r\n  return fetchMovies(\r\n    `/trending/movie/day?api_key=${API_KEY}&language=en-US&page=${page}&include_adult=false`\r\n  );\r\n}\r\n\r\n//поиск кинофильма по ключевому слову на странице фильмов\r\nexport function fetchMoviesByKeyWord(keyWord, page) {\r\n  return fetchMovies(\r\n    `/search/movie?api_key=${API_KEY}&language=en-US&query=${keyWord}&page=${page}&include_adult=false`\r\n  );\r\n}\r\n\r\n//запрос полной информации о фильме для страницы кинофильма\r\nexport async function fetchMovieById(movie_id) {\r\n  const response = await fetch(\r\n    `${baseURL}/movie/${movie_id}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"nothing found!\"));\r\n}\r\n\r\n//запрос информации о актёрском составе для страницы кинофильма\r\nexport async function fetchMovieCredits(movie_id) {\r\n  // return fetchMovies(`/movie/${movie_id}/credits`);\r\n  const response = await fetch(\r\n    `${baseURL}/movie/${movie_id}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"nothing found!\"));\r\n}\r\n\r\n//запрос полной информации о фильме для страницы кинофильма\r\nexport async function fetchMovieReviews(movie_id) {\r\n  // return fetchMovies(`/movie/${movie_id}/reviews`);\r\n  const response = await fetch(\r\n    `${baseURL}/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"nothing found!\"));\r\n}\r\n","const ScrollToLoadBtn = () => {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n};\r\n\r\nexport default ScrollToLoadBtn;\r\n","import React from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport s from \"./MovieItem.module.css\";\r\n\r\nexport function MovieItem({ id, poster_path, original_title }) {\r\n  return (\r\n    <li key={id} className={s.item}>\r\n      <img\r\n        className={s.item_image}\r\n        src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\r\n        alt={original_title}\r\n      />\r\n\r\n      <p className={s.item_title}>{original_title}</p>\r\n    </li>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MovieItem_item__3gpk_\",\"item_title\":\"MovieItem_item_title__2rywk\",\"item_image\":\"MovieItem_item_image__1-7ky\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nexport function Button({ onClickLoadMore, children }) {\r\n  return (\r\n    <button type=\"button\" onClick={onClickLoadMore} className={s.button}>\r\n      <div className={s.btn_children}>{children}</div>\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClickLoadMore: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__NvhOy\",\"btn_children\":\"Button_btn_children__1ajbc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list_home_page\":\"list_list_home_page__2K_wj\",\"title\":\"list_title__3FhLN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderButton_loader__2trC1\",\"spin\":\"LoaderButton_spin__1_ijz\"};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}