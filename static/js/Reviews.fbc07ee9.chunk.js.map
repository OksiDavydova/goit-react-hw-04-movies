{"version":3,"sources":["components/Reviews/Reviews.module.css","components/images/reviewsItem.svg","components/Reviews/ReviewsList.jsx","components/Reviews/Reviews.js","components/ScrollToLoadBtn.jsx"],"names":["module","exports","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgReviewsItem","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","undefined","id","d","ForwardRef","ReviewsList","reviews","className","s","reviews_list","map","author","content","created_at","reviews_item","reviews_subhead","reviews_icon","reviews_subheadPart","substring","Reviews","movieId","useParams","useState","setReviews","errorText","setErrorText","useEffect","fetchMovieReviews","then","data","results","ScrollToLoadBtn","catch","error","console","log","style","marginTop","window","scrollTo","top","document","documentElement","scrollHeight","behavior"],"mappings":"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","file":"static/js/Reviews.fbc07ee9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviews_list\":\"Reviews_reviews_list__N3Aya\",\"reviews_item\":\"Reviews_reviews_item__1RU88\",\"reviews_subhead\":\"Reviews_reviews_subhead__3QXB9\",\"reviews_subheadPart\":\"Reviews_reviews_subheadPart__2nqkK\",\"reviews_icon\":\"Reviews_reviews_icon__1oOtF\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgReviewsItem(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"person\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 16c2.947 0 5.333-2.387 5.333-5.333s-2.387-5.333-5.333-5.333c-2.947 0-5.333 2.387-5.333 5.333s2.387 5.333 5.333 5.333zM16 18.667c-3.56 0-10.667 1.787-10.667 5.333v1.333c0 0.733 0.6 1.333 1.333 1.333h18.667c0.733 0 1.333-0.6 1.333-1.333v-1.333c0-3.547-7.107-5.333-10.667-5.333z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReviewsItem);\nexport default __webpack_public_path__ + \"static/media/reviewsItem.968a1a63.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as ReviewsIcon } from \"../images/reviewsItem.svg\";\r\nimport s from \"./Reviews.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ReviewsList({ reviews }) {\r\n  return (\r\n    <ul className={s.reviews_list}>\r\n      {reviews.map(({ author, content, id, created_at }) => (\r\n        <li key={id} className={s.reviews_item}>\r\n          <h2 className={s.reviews_subhead}>\r\n            <ReviewsIcon className={s.reviews_icon} />\r\n            {author}\r\n            <span className={s.reviews_subheadPart}>\r\n              /{created_at.substring(0, 10)}\r\n            </span>\r\n          </h2>\r\n          <p>{content}</p>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nReviewsList.propTypes = {\r\n  reviews: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string,\r\n      author: PropTypes.string,\r\n      content: PropTypes.string,\r\n      created_at: PropTypes.string,\r\n    })\r\n  ),\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { fetchMovieReviews } from \"../../serviceApi/serviceApi\";\r\nimport ReviewsList from \"./ReviewsList\";\r\nimport ScrollToLoadBtn from \"../ScrollToLoadBtn\";\r\n\r\nexport default function Reviews() {\r\n  const { movieId } = useParams();\r\n  const [reviews, setReviews] = useState([]);\r\n  const [errorText, setErrorText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchMovieReviews(movieId)\r\n      .then((data) => {\r\n        if (data.results.length === 0) {\r\n          setErrorText(\"We don't have any reviews for this movie\");\r\n          return;\r\n        }\r\n        setReviews(data.results);\r\n        ScrollToLoadBtn();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {errorText && (\r\n        <p style={{ marginTop: \"-30px\", height: \"50px\" }}>{errorText}</p>\r\n      )}\r\n      {reviews && <ReviewsList reviews={reviews} />}\r\n    </>\r\n  );\r\n}\r\n","const ScrollToLoadBtn = () => {\r\n  return window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n};\r\n\r\nexport default ScrollToLoadBtn;\r\n"],"sourceRoot":""}